{"version":3,"sources":["Container/App.module.css","components/SearchForm/SearchForm.module.css","components/Gallery/Gallery.module.css","components/Spinner/Spinner.module.css","components/SearchForm/SearchForm.jsx","components/Modal/Modal.jsx","components/PhotoCard/PhotoCard.jsx","components/Gallery/Gallery.jsx","components/ErrorNotification/ErrorNotification.jsx","services/images-api.js","components/Spinner/Spinner.jsx","Container/App.jsx","index.js","components/PhotoCard/PhotoCard.module.css","components/Modal/Modal.module.css"],"names":["module","exports","SearchForm","state","query","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","this","className","searchForm","type","autoComplete","placeholder","onChange","Component","Modal","backdropRef","createRef","handleKeyPress","code","onClose","handleBackdropClick","current","window","addEventListener","removeEventListener","linkLarge","styles","overlay","ref","onClick","role","tabIndex","onKeyPress","modal","src","alt","PhotoCard","isModalOpen","openModal","closeModal","link","likes","views","comments","downloads","photoCard","stats","statsItem","fullscreenButton","Gallery","items","gallery","map","item","key","id","ErrorNotification","text","fetchImages","page","BASE_URL","axios","get","Spinner","spinner","color","height","width","timeout","mapper","images","webformatURL","largeImageURL","App","isLoading","error","input","fetchImagesAPI","then","data","hits","catch","finally","scrollTo","top","document","documentElement","scrollHeight","behavior","handleIncrementPage","prevState","app","handleInputChange","onIncrement","length","button","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.21c87bf9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__9WGzm\",\"button\":\"App_button__zDGpz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__3kZsj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__uijmb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"Spinner_spinner__1k1xq\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { searchForm } from './SearchForm.module.css';\n\nclass SearchForm extends Component {\n  state = { query: '' };\n\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  handleChange = e => {\n    this.setState({\n      query: e.target.value,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { query } = this.state;\n    if (query === '') return;\n    this.props.onSubmit(query);\n    this.setState({ query: '' });\n  };\n\n  render() {\n    const { query } = this.state;\n    return (\n      <form className={searchForm} onSubmit={this.handleSubmit}>\n        <input\n          type=\"text\"\n          autoComplete=\"off\"\n          placeholder=\"Search images...\"\n          value={query}\n          onChange={this.handleChange}\n        />\n      </form>\n    );\n  }\n}\n\nexport default SearchForm;\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nclass Modal extends Component {\n  backdropRef = createRef();\n\n  static propTypes = {\n    onClose: PropTypes.func.isRequired,\n    linkLarge: PropTypes.string.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleKeyPress = e => {\n    if (e.code !== `Escape`) return;\n\n    this.props.onClose();\n  };\n\n  handleBackdropClick = e => {\n    const { current } = this.backdropRef;\n\n    if (current && e.target !== current) return;\n\n    this.props.onClose();\n  };\n\n  render() {\n    const { linkLarge } = this.props;\n    return (\n      <div\n        className={styles.overlay}\n        ref={this.backdropRef}\n        onClick={this.handleBackdropClick}\n        role=\"button\"\n        tabIndex=\"0\"\n        onKeyPress={() => {}}\n      >\n        <div className={styles.modal}>\n          <img src={linkLarge} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Modal from '../Modal/Modal';\nimport styles from './PhotoCard.module.css';\n\nclass PhotoCard extends Component {\n  state = { isModalOpen: false };\n\n  static propTypes = {\n    link: PropTypes.string.isRequired,\n    likes: PropTypes.number.isRequired,\n    views: PropTypes.number.isRequired,\n    comments: PropTypes.number.isRequired,\n    downloads: PropTypes.number.isRequired,\n    linkLarge: PropTypes.string.isRequired,\n  };\n\n  openModal = () =>\n    this.setState({\n      isModalOpen: true,\n    });\n\n  closeModal = () =>\n    this.setState({\n      isModalOpen: false,\n    });\n\n  render() {\n    const { isModalOpen } = this.state;\n    const { link, likes, views, comments, downloads, linkLarge } = this.props;\n    return (\n      <div>\n        <div className={styles.photoCard}>\n          <img src={link} alt=\"\" />\n\n          <div className={styles.stats}>\n            <p className={styles.statsItem}>\n              <i className=\"material-icons\">thumb_up</i>\n              {likes}\n            </p>\n            <p className={styles.statsItem}>\n              <i className=\"material-icons\">visibility</i>\n              {views}\n            </p>\n            <p className={styles.statsItem}>\n              <i className=\"material-icons\">comment</i>\n              {comments}\n            </p>\n            <p className={styles.statsItem}>\n              <i className=\"material-icons\">cloud_download</i>\n              {downloads}\n            </p>\n          </div>\n\n          {/* <!-- Кнопка для открытия модалки с большим изображением, появляется при наведении --> */}\n          <button\n            type=\"button\"\n            className={styles.fullscreenButton}\n            onClick={this.openModal}\n          >\n            <i className=\"material-icons\">zoom_out_map</i>\n          </button>\n        </div>\n        {isModalOpen && (\n          <Modal linkLarge={linkLarge} onClose={this.closeModal} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default PhotoCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PhotoCard from '../PhotoCard/PhotoCard';\nimport styles from './Gallery.module.css';\n\nconst Gallery = ({ items }) => (\n  <ul className={styles.gallery}>\n    {items.map(item => (\n      <li key={item.id}>\n        <PhotoCard key={item.id} {...item} />\n      </li>\n    ))}\n  </ul>\n);\n\nGallery.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    }),\n  ).isRequired,\n};\n\nexport default Gallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ErrorNotification = ({ text }) => <h1>No images on this page: {text}</h1>;\n\nErrorNotification.propTypes = {\n  text: PropTypes.string.isRequired,\n};\n\nexport default ErrorNotification;\n","import axios from 'axios';\n\nconst API_KEY = `14259511-dd01cdbc11ca08947c24eb055`;\n\nconst fetchImages = (query, page) => {\n  const BASE_URL = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=`;\n\n  return axios.get(BASE_URL + API_KEY);\n};\n\nexport default fetchImages;\n","import React from 'react';\nimport Loader from 'react-loader-spinner';\nimport { spinner } from './Spinner.module.css';\n\nconst Spinner = () => (\n  <div className={spinner}>\n    <Loader\n      type=\"Puff\"\n      color=\"#00BFFF\"\n      height={200}\n      width={200}\n      timeout={3000}\n    />\n  </div>\n);\n\nexport default Spinner;\n","import React, { Component } from 'react';\nimport SearchForm from '../components/SearchForm/SearchForm';\nimport Gallery from '../components/Gallery/Gallery';\nimport ErrorNotification from '../components/ErrorNotification/ErrorNotification';\nimport fetchImages from '../services/images-api';\nimport styles from './App.module.css';\nimport Spinner from '../components/Spinner/Spinner';\n\nconst mapper = images => {\n  return images.map(\n    ({ webformatURL: link, largeImageURL: linkLarge, ...props }) => ({\n      linkLarge,\n      link,\n      ...props,\n    }),\n  );\n};\n\nclass App extends Component {\n  state = { images: [], isLoading: false, error: null, page: 1, input: '' };\n\n  fetchImagesAPI = query => {\n    this.setState({ isLoading: true });\n    const { page, images } = this.state;\n\n    fetchImages(query, page)\n      .then(({ data }) =>\n        this.setState({ images: mapper([...images, ...data.hits]) }),\n      )\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoading: false });\n\n        if (page > 1) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        }\n      });\n  };\n\n  handleSubmit = value => {\n    this.setState(\n      {\n        page: 1,\n        images: [],\n        isLoading: true,\n        input: value,\n      },\n      () => {\n        this.fetchImagesAPI(value);\n      },\n    );\n  };\n\n  handleIncrementPage = () => {\n    const { input } = this.state;\n    this.setState(\n      prevState => ({\n        page: prevState.page + 1,\n      }),\n      () => {\n        this.fetchImagesAPI(input);\n      },\n    );\n  };\n\n  render() {\n    const { images, isLoading, error } = this.state;\n    return (\n      <div className={styles.app}>\n        <SearchForm\n          onSubmit={this.handleSubmit}\n          onChange={this.handleInputChange}\n          onIncrement={this.handleIncrementPage}\n        />\n        <Gallery items={images} />\n        {error && <ErrorNotification />}\n        {isLoading && <Spinner />}\n        {images.length > 1 && (\n          <button\n            className={styles.button}\n            type=\"button\"\n            onClick={this.handleIncrementPage}\n          >\n            Load more\n          </button>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/common.css';\nimport App from './Container/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoCard\":\"PhotoCard_photoCard__2XB1U\",\"stats\":\"PhotoCard_stats__1x5pz\",\"statsItem\":\"PhotoCard_statsItem__u_QUo\",\"fullscreenButton\":\"PhotoCard_fullscreenButton__2ta7_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__6BIzA\",\"modal\":\"Modal_modal__2AiZH\"};"],"sourceRoot":""}