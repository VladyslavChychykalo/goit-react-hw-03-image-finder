{"version":3,"sources":["components/SearchForm/SearchForm.module.css","components/Gallery/Gallery.module.css","components/SearchForm/SearchForm.js","components/Modal/Modal.js","components/PhotoCard/PhotoCard.js","components/Gallery/Gallery.js","components/Loader/Loader.js","components/ErrorNotification/ErrorNotification.js","services/images-api.js","Container/App.js","index.js","components/PhotoCard/PhotoCard.module.css","components/Modal/Modal.module.css","Container/App.module.css"],"names":["module","exports","SearchForm","handleChange","target","props","onChange","value","handleSubmit","event","preventDefault","onSubmit","this","className","searchForm","type","autoComplete","placeholder","Component","Modal","backdropRef","createRef","handleKeyPress","e","code","onClose","handleBackdropClick","current","window","addEventListener","removeEventListener","linkLarge","styles","overlay","ref","onClick","role","tabIndex","onKeyPress","modal","src","alt","PhotoCard","state","isModalOpen","openModal","setState","closeModal","link","likes","views","comments","downloads","photoCard","stats","statsItem","fullscreenButton","Gallery","items","gallery","map","item","key","id","fontSize","Loader","ErrorNotification","text","fetchImages","query","page","BASE_URL","axios","get","mapper","images","webformatURL","largeImageURL","App","isLoading","error","input","fetchImagesAPI","then","data","prevState","hits","catch","finally","pageAdd","app","length","button","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c417892f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__3kZsj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__uijmb\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { searchForm } from './SearchForm.module.css';\n\nexport default class SearchForm extends Component {\n  // state = { query: '' };\n\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n    onChange: PropTypes.func.isRequired,\n    value: PropTypes.string.isRequired,\n  };\n\n  // handleChange = e => {\n  //   this.setState({\n  //     query: e.target.value,\n  //   });\n  // };\n\n  // handleSubmit = e => {\n  //   e.preventDefault();\n  //   if (this.state.query === '') return;\n  //   this.props.onSubmit(this.state.query);\n  //   // this.setState({ query: '' });\n  // };\n\n  // handleLoad = () => {\n  //   this.props.onIncrement(this.state.query);\n  // };\n\n  handleChange = ({ target }) => {\n    this.props.onChange(target.value);\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    const { value } = this.props;\n    const { onSubmit } = this.props;\n    onSubmit(value);\n  };\n\n  render() {\n    // const { query } = this.state;\n    const { value } = this.props;\n    return (\n      <form className={searchForm} onSubmit={this.handleSubmit}>\n        <input\n          type=\"text\"\n          autoComplete=\"off\"\n          placeholder=\"Search images...\"\n          value={value}\n          onChange={this.handleChange}\n        />\n        {/* {images.length > 1 && (\n          <button type=\"button\" onClick={this.handleLoad}>\n            Load more\n          </button>\n        )} */}\n      </form>\n    );\n  }\n}\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nexport default class Modal extends Component {\n  backdropRef = createRef();\n\n  static propTypes = {\n    onClose: PropTypes.func.isRequired,\n    linkLarge: PropTypes.string.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleKeyPress = e => {\n    if (e.code !== `Escape`) return;\n\n    this.props.onClose();\n  };\n\n  handleBackdropClick = e => {\n    const { current } = this.backdropRef;\n\n    if (current && e.target !== current) return;\n\n    this.props.onClose();\n  };\n\n  render() {\n    const { linkLarge } = this.props;\n    return (\n      <div\n        className={styles.overlay}\n        ref={this.backdropRef}\n        onClick={this.handleBackdropClick}\n        role=\"button\"\n        tabIndex=\"0\"\n        onKeyPress\n      >\n        <div className={styles.modal}>\n          <img src={linkLarge} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Modal from '../Modal/Modal';\nimport styles from './PhotoCard.module.css';\n\nexport default class PhotoCard extends Component {\n  state = { isModalOpen: false };\n\n  static propTypes = {\n    link: PropTypes.string.isRequired,\n    likes: PropTypes.number.isRequired,\n    views: PropTypes.number.isRequired,\n    comments: PropTypes.number.isRequired,\n    downloads: PropTypes.number.isRequired,\n    linkLarge: PropTypes.string.isRequired,\n  };\n\n  openModal = () =>\n    this.setState({\n      isModalOpen: true,\n    });\n\n  closeModal = () =>\n    this.setState({\n      isModalOpen: false,\n    });\n\n  render() {\n    const { isModalOpen } = this.state;\n    const { link, likes, views, comments, downloads, linkLarge } = this.props;\n    return (\n      <>\n        <div className={styles.photoCard}>\n          <img src={link} alt=\"\" />\n\n          <div className={styles.stats}>\n            <p className={styles.statsItem}>\n              <i className=\"material-icons\">thumb_up</i>\n              {likes}\n            </p>\n            <p className={styles.statsItem}>\n              <i className=\"material-icons\">visibility</i>\n              {views}\n            </p>\n            <p className={styles.statsItem}>\n              <i className=\"material-icons\">comment</i>\n              {comments}\n            </p>\n            <p className={styles.statsItem}>\n              <i className=\"material-icons\">cloud_download</i>\n              {downloads}\n            </p>\n          </div>\n\n          {/* <!-- Кнопка для открытия модалки с большим изображением, появляется при наведении --> */}\n          <button\n            type=\"button\"\n            className={styles.fullscreenButton}\n            onClick={this.openModal}\n          >\n            <i className=\"material-icons\">zoom_out_map</i>\n          </button>\n        </div>\n        {isModalOpen && (\n          <Modal linkLarge={linkLarge} onClose={this.closeModal} />\n        )}\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PhotoCard from '../PhotoCard/PhotoCard';\nimport styles from './Gallery.module.css';\n\nconst Gallery = ({ items }) => (\n  <ul className={styles.gallery}>\n    {items.map(item => (\n      <li key={item.id}>\n        <PhotoCard key={item.id} {...item} />\n      </li>\n    ))}\n  </ul>\n);\n\nGallery.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    }),\n  ).isRequired,\n};\n\nexport default Gallery;\n","import React from 'react';\n\nconst styles = { fontSize: 40 };\n\nconst Loader = () => <h1 styles={styles}>Loading...</h1>;\n\nexport default Loader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ErrorNotification = ({ text }) => <h1>No images on this page: {text}</h1>;\n\nErrorNotification.propTypes = {\n  text: PropTypes.string.isRequired,\n};\n\nexport default ErrorNotification;\n","import axios from 'axios';\n\nconst API_KEY = `14259511-dd01cdbc11ca08947c24eb055`;\n\nconst fetchImages = (query, page) => {\n  const BASE_URL = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=`;\n\n  return axios.get(BASE_URL + API_KEY);\n};\n\nexport default fetchImages;\n","import React, { Component } from 'react';\nimport SearchForm from '../components/SearchForm/SearchForm';\nimport Gallery from '../components/Gallery/Gallery';\nimport Loader from '../components/Loader/Loader';\nimport ErrorNotification from '../components/ErrorNotification/ErrorNotification';\nimport fetchImages from '../services/images-api';\nimport styles from './App.module.css';\n\nconst mapper = images => {\n  return images.map(\n    ({ webformatURL: link, largeImageURL: linkLarge, ...props }) => ({\n      linkLarge,\n      link,\n      ...props,\n    }),\n  );\n};\n\nexport default class App extends Component {\n  state = { images: [], isLoading: false, error: null, page: 1, input: '' };\n\n  // componentDidMount() {\n  //   this.fetchImagesAPI();\n  // }\n\n  fetchImagesAPI = query => {\n    const { page } = this.state;\n    this.setState({ isLoading: true });\n\n    // this.setState(prevState => ({\n    //   page: prevState.page + 1,\n    // }));\n\n    fetchImages(query, page)\n      .then(({ data }) =>\n        this.setState(prevState => {\n          return { images: mapper([...prevState.images, ...data.hits]) };\n        }),\n      )\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  // handleIncrementPage = query => {\n  //   console.log(query);\n  //   const { page } = this.state;\n  //   this.setState({ page: page + 1 });\n  //   fetchImages(query, page)\n  //     .then(({ data }) =>\n  //       this.setState(prevState => {\n  //         return { images: mapper([...prevState.images, ...data.hits]) };\n  //       }),\n  //     )\n  //     .catch(error => this.setState({ error }))\n  //     .finally(() => this.setState({ isLoading: false }));\n  // };\n\n  handleSubmit = value => {\n    const { input } = this.state;\n    if (input === '') return;\n\n    this.setState({\n      page: 1,\n      images: [],\n      isLoading: true,\n    });\n    this.fetchImagesAPI(value);\n  };\n\n  handleChange = value => {\n    this.setState({\n      input: value,\n    });\n  };\n\n  pageAdd = () => {\n    const { input } = this.state;\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n    this.fetchImagesAPI(input);\n  };\n\n  render() {\n    const { images, isLoading, error, input } = this.state;\n    return (\n      <div className={styles.app}>\n        <SearchForm\n          onSubmit={this.handleSubmit}\n          value={input}\n          onChange={this.handleChange}\n        />\n        <Gallery items={images} />\n        {error && <ErrorNotification />}\n        {isLoading && <Loader />}\n        {images.length > 1 && (\n          <button\n            className={styles.button}\n            type=\"button\"\n            onClick={this.pageAdd}\n          >\n            Load more\n          </button>\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/common.css';\nimport App from './Container/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoCard\":\"PhotoCard_photoCard__2XB1U\",\"stats\":\"PhotoCard_stats__1x5pz\",\"statsItem\":\"PhotoCard_statsItem__u_QUo\",\"fullscreenButton\":\"PhotoCard_fullscreenButton__2ta7_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__6BIzA\",\"modal\":\"Modal_modal__2AiZH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__9WGzm\",\"button\":\"App_button__zDGpz\"};"],"sourceRoot":""}